{"blocks":{"languageVersion":0,"blocks":[{"type":"procedures_defnoreturn","id":"N?++^8uVJ*|EM}kpSG_I","x":-450,"y":430,"icons":{"comment":{"text":"Опишите эту функцию…","pinned":false,"height":80,"width":160}},"fields":{"NAME":"wall_follow"},"inputs":{"STACK":{"block":{"type":"variables_set","id":"zD52lW}T#pq,_ko_iv,t","icons":{"comment":{"text":"Полетит налево","pinned":false,"height":80,"width":160}},"fields":{"VAR":{"id":"-Vk(dB/fTt/SSWyRk!H2"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":".:[68l6[thvY70KfRQwf","fields":{"NUM":-0.65}}}},"next":{"block":{"type":"variables_set","id":"Ui7x-M(i~*`2=7y87,!u","fields":{"VAR":{"id":"Jz3nu@)KHt;UTD47qU/N"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":"G5uciEb37p6AE-3^H+$?","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set","id":"Kw0Qw4XSjIxt1WvC+Vnb","fields":{"VAR":{"id":"?1mAf#{l^n|x@n3CbzMO"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":"2gOb7u#4kGGvz,d4#sEe","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set","id":"iG)mfz1u~Ska%Abj?@@O","fields":{"VAR":{"id":"M{GH@V^y`NnfUa%uEOWE"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":"dLU@B6kyECR+*6.e$/^d","fields":{"NUM":0.5}}}},"next":{"block":{"type":"setVelXY","id":"K+nN8xEdKoP3:5qX_li^","inputs":{"X":{"block":{"type":"variables_get","id":"rdK;l^f_=#iSAc)l=](u","fields":{"VAR":{"id":"Jz3nu@)KHt;UTD47qU/N"}}}},"Y":{"block":{"type":"variables_get","id":"D.uLn0ap^32FNm,C3}wh","fields":{"VAR":{"id":"-Vk(dB/fTt/SSWyRk!H2"}}}}},"next":{"block":{"type":"controls_whileUntil","id":"GS,S]K=uVzy=StZ+|vR@","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"block":{"type":"logic_boolean","id":"|zctVw/**^TYqM%5Ab+/","fields":{"BOOL":"TRUE"}}},"DO":{"block":{"type":"variables_set","id":"|[ru0nCfdr1^gGh!/oK}","fields":{"VAR":{"id":"JL$:*enQfKX3q~_0FcwD"}},"inputs":{"VALUE":{"block":{"type":"getUltrasonic","id":"5b9d@lE@6cjIgMtw:x0^","fields":{"val":"0"}}}},"next":{"block":{"type":"variables_set","id":"y^KQ#^Y1R}v}d,`It(7_","icons":{"comment":{"text":"Перевод в метры","pinned":false,"height":80,"width":160}},"fields":{"VAR":{"id":"JL$:*enQfKX3q~_0FcwD"}},"inputs":{"VALUE":{"block":{"type":"math_arithmetic","id":"gk,=@f~US[?|rcuzZrlE","fields":{"OP":"DIVIDE"},"inputs":{"A":{"shadow":{"type":"math_number","id":"jN_]$u*o)H{JS!oYY`~N","fields":{"NUM":1}},"block":{"type":"variables_get","id":"iI9h3}iwDo8Nwd:_9o4W","fields":{"VAR":{"id":"JL$:*enQfKX3q~_0FcwD"}}}},"B":{"shadow":{"type":"math_number","id":"nnAC#+I%cv!p,$PW/bvj","fields":{"NUM":100}}}}}}},"next":{"block":{"type":"variables_set","id":"/58a8GEL3oWTS@[z3;WR","fields":{"VAR":{"id":"?1mAf#{l^n|x@n3CbzMO"}},"inputs":{"VALUE":{"block":{"type":"math_arithmetic","id":".5!mse_C2ue0@pk2m9F`","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"math_number","id":"2kPuvim*HiQv*o:6;olb","fields":{"NUM":1}},"block":{"type":"variables_get","id":"+)nOIH-e_N{#}+R8P;(=","fields":{"VAR":{"id":"JL$:*enQfKX3q~_0FcwD"}}}},"B":{"shadow":{"type":"math_number","id":"=V1i!6+tv6{Si${E6SRI","fields":{"NUM":1}},"block":{"type":"variables_get","id":"3oPSJ{b{Ay6uT(d9#dkZ","fields":{"VAR":{"id":"M{GH@V^y`NnfUa%uEOWE"}}}}}}}},"next":{"block":{"type":"variables_set","id":"ch}pW?)EBfF:8z)w8Sx6","fields":{"VAR":{"id":"Jz3nu@)KHt;UTD47qU/N"}},"inputs":{"VALUE":{"block":{"type":"math_arithmetic","id":"$5*Ec;R*:$yGS)aSIxbR","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"math_number","id":"=`_v0^i;8JG9fC.P^]bn","fields":{"NUM":1}},"block":{"type":"procedures_callreturn","id":"1Dm;%GxadnX,MQZ=%wq(","extraState":{"name":"sign","params":["value"]},"inputs":{"ARG0":{"block":{"type":"variables_get","id":"z}CPyuaTJ/L[6sky[w,1","fields":{"VAR":{"id":"?1mAf#{l^n|x@n3CbzMO"}}}}}}},"B":{"shadow":{"type":"math_number","id":"t?wT3r47s$7u/`}6Bc*u","fields":{"NUM":0.65}}}}}}},"next":{"block":{"type":"controls_if","id":"a-(_df,jJf,*!wj:[L~]","extraState":{"hasElse":true},"inputs":{"IF0":{"block":{"type":"logic_compare","id":"8chv09ArG1$ZCzoJ!%*+","fields":{"OP":"GT"},"inputs":{"A":{"block":{"type":"variables_get","id":"/uY6hB1!E!.#B,zh4,:U","fields":{"VAR":{"id":"JL$:*enQfKX3q~_0FcwD"}}}},"B":{"block":{"type":"variables_get","id":"0S7lyF?XU}NEExW-UEsk","fields":{"VAR":{"id":"M{GH@V^y`NnfUa%uEOWE"}}}}}}},"DO0":{"block":{"type":"setDiod","id":";pAq1qDq6V:jZ~~6w;NI","inputs":{"R":{"block":{"type":"math_number","id":"mZQ~X6s~)ELUc{[~M]1w","fields":{"NUM":0}}},"G":{"block":{"type":"math_number","id":"6~m4Y/2x%+gQRkCrz{V.","fields":{"NUM":255}}},"B":{"block":{"type":"math_number","id":"_a.]{F`@VG(@h^OvZ`%.","fields":{"NUM":0}}}}}},"ELSE":{"block":{"type":"setDiod","id":"uKu;bX~SO/v.6HSX?vgm","inputs":{"R":{"block":{"type":"math_number","id":"WFj0@;y8~ql8h,ed!6wd","fields":{"NUM":255}}},"G":{"block":{"type":"math_number","id":"_#t+T@Tv]6f}!$n`iX5n","fields":{"NUM":0}}},"B":{"block":{"type":"math_number","id":"HWB^I#njIu;#V5WUXxhN","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"setVelXY","id":"oFK89[0+1M{o0-@%^ru@","inputs":{"X":{"block":{"type":"variables_get","id":"8[F}A6dGp-^md_2DTt?u","fields":{"VAR":{"id":"Jz3nu@)KHt;UTD47qU/N"}}}},"Y":{"block":{"type":"variables_get","id":"PqL6moQVS+FSkJD;lvun","fields":{"VAR":{"id":"-Vk(dB/fTt/SSWyRk!H2"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"procedures_defnoreturn","id":"^h)IkP+m%AsIvG+7y]El","x":-450,"y":170,"icons":{"comment":{"text":"Опишите эту функцию…","pinned":false,"height":80,"width":160}},"fields":{"NAME":"main"},"inputs":{"STACK":{"block":{"type":"setVelXYYaw","id":"c+rKvNsk*!aS`E7-V0Ba","inputs":{"X":{"block":{"type":"math_number","id":"t;GOzbH|1].MgeaLjm{Y","fields":{"NUM":0}}},"Y":{"block":{"type":"math_number","id":")iAEsyk}DVj_;qwowP2=","fields":{"NUM":0}}},"Yaw":{"block":{"type":"math_number","id":"smofqHa!q6/@KX$!C5VQ","fields":{"NUM":0}}}},"next":{"block":{"type":"setDiod","id":"#8Y8%n2-CDn;WdanM[op","inputs":{"R":{"block":{"type":"math_number","id":"*cF58}xjx)iwY9PF,4:.","fields":{"NUM":0}}},"G":{"block":{"type":"math_number","id":"xrkQ$4LV;Sd@gjEe?xzJ","fields":{"NUM":0}}},"B":{"block":{"type":"math_number","id":"D%~SOC]v90I)QbnYUxf@","fields":{"NUM":0}}}},"next":{"block":{"type":"takeoff","id":"06nn[oc2IPUSI%QLs{^c","next":{"block":{"type":"delay","id":"G}X4ql*PuDL%j2(@6D7Z","inputs":{"delay":{"block":{"type":"math_number","id":"Pu:/oq@UnLlh@jEHP~r0","fields":{"NUM":10000}}}},"next":{"block":{"type":"procedures_callnoreturn","id":"~Y955PKlT|xPElH]9+.8","extraState":{"name":"wall_follow"}}}}}}}}}}}}},{"type":"procedures_callnoreturn","id":"#!eTUNy_5;9=mo+FfO_f","x":-430,"y":110,"extraState":{"name":"main"}},{"type":"procedures_defreturn","id":"QR/Ih_j5!mGDfNyf-{Tz","x":250,"y":190,"extraState":{"params":[{"name":"value","id":"QDTJV$!)IiZv3Ne480(O"}]},"icons":{"comment":{"text":"Опишите эту функцию…","pinned":false,"height":80,"width":160}},"fields":{"NAME":"sign"},"inputs":{"STACK":{"block":{"type":"controls_if","id":"l(WqgE{7LH#1^Kt!R-gE","extraState":{"hasElse":true},"inputs":{"IF0":{"block":{"type":"logic_compare","id":"ef+8mRrAn5{nu}`;C):{","fields":{"OP":"GT"},"inputs":{"A":{"block":{"type":"variables_get","id":"I4*FL$;({[wl)uiGGxJg","fields":{"VAR":{"id":"QDTJV$!)IiZv3Ne480(O"}}}},"B":{"block":{"type":"math_number","id":"hSmE|uEh2U:_)$yi.TeA","fields":{"NUM":0}}}}}},"DO0":{"block":{"type":"variables_set","id":"Mqa}UsH8$6oGVb42aQid","fields":{"VAR":{"id":"QDTJV$!)IiZv3Ne480(O"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":"wAi5C#i|HI8?/007Y3T1","fields":{"NUM":1}}}}}},"ELSE":{"block":{"type":"variables_set","id":",j9(b2#)OvT3wl2i4q21","fields":{"VAR":{"id":"QDTJV$!)IiZv3Ne480(O"}},"inputs":{"VALUE":{"block":{"type":"math_number","id":"C$b`ol,`9H9pVIqsbO7Y","fields":{"NUM":-1}}}}}}}}},"RETURN":{"block":{"type":"variables_get","id":"$mG;QWX)4Td+agZznY,p","fields":{"VAR":{"id":"QDTJV$!)IiZv3Ne480(O"}}}}}}]},"variables":[{"name":"id","id":"/byg]?Z#tn~),VG2]3S1"},{"name":"pos_x","id":"PR76rz:XLaV[4`#_=~?5"},{"name":"pos_y","id":"nO$ns9dIsi.MH-eP[a7,"},{"name":"pos_z","id":"nCy0x6U/Hu*JoY-0eGIT"},{"name":"orient_x","id":"%C1][biKfsn@G~g^4xv)"},{"name":"orient_y","id":"6_}.~Y-5dUYi%arxY7hJ"},{"name":"orient_z","id":"HY9%t;~IKo2iBHFonbH-"},{"name":"x","id":"~_l:[mE*y0Yf7^f1T]!I"},{"name":"pitch_error","id":"?1mAf#{l^n|x@n3CbzMO"},{"name":"roll_error","id":"|ixBqPMBp3ryr.EP[BbH"},{"name":"current_height","id":"PZt5=lQ{32ab4*n,FxZ5"},{"name":"y","id":";8!BsnI7A$C-4$4`:BtT"},{"name":"value","id":"QDTJV$!)IiZv3Ne480(O"},{"name":"threshold","id":"$k]yoYs%~,[16Mrr/9{0"},{"name":"neg_treshold","id":"-Y^6.P-qG7YUWEFt,v_*"},{"name":"distance","id":"M{GH@V^y`NnfUa%uEOWE"},{"name":"yaw_error","id":"@K6:;G;Mb{A?p,d#wV?]"},{"name":"distance_to_marker","id":"QklXwLW`XXCreqw(A`(%"},{"name":"current_yaw","id":"#~z[lnFHjA{d+=haeqx7"},{"name":"accurancy","id":"SP*0w675@xXwOfn4anJ7"},{"name":"accuracy","id":".0AP(RjR=s{LSHMM|mO}"},{"name":"accuracy_yaw","id":"uyFNci^lRMnZ=C)iHa#9"},{"name":"new_yaw","id":"GcX2~(zdGt^Cq4dQKw6P"},{"name":"height_error","id":"2uTRe;j~@(-(BvDuR0Fh"},{"name":"accuracy_height","id":"KoWUhth1EGET,T),h3mU"},{"name":"new_height","id":"TToc*zq@d]-B*4b.Qz@H"},{"name":"PID_roll","id":"rap`(r[:KW5.bP!zBcis"},{"name":"PID_pitch","id":"%cP~H*0Bz9KLCcBOB2{4"},{"name":"PID_yaw","id":"0v1b{35xXjL*TtY{VhYi"},{"name":"switch_diod","id":"?,)o/Cs1h^MOfb$uV{I7"},{"name":"vel","id":"0RZceUTP{:+p(OCMO]#{"},{"name":"aruco_state","id":"#Y3:wY:7V*/SN]H=+(cD"},{"name":"distance_to_wall","id":"JL$:*enQfKX3q~_0FcwD"},{"name":"roll_vel","id":"-Vk(dB/fTt/SSWyRk!H2"},{"name":"pitch_vel","id":"Jz3nu@)KHt;UTD47qU/N"}]}